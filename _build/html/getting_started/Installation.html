
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Installation &#8212; SEPIA 0.7 documentation</title>
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Data Preparation" href="Data-preparation.html" />
    <link rel="prev" title="SEPIA Documentation" href="../index.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="Data-preparation.html" title="Data Preparation"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../index.html" title="SEPIA Documentation"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">SEPIA 0.7 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="prerequisite">
<h2>Prerequisite<a class="headerlink" href="#prerequisite" title="Permalink to this headline">¶</a></h2>
<p>To use <strong>SEPIA</strong> you need three QSM toolboxes which are freely available for the research community, namely MEDI toolbox, STI Suite and FANSI toolbox. You can download these toolboxes with the following links:</p>
<ul class="simple">
<li><a class="reference external" href="http://pre.weill.cornell.edu/mri/pages/qsm.html">MEDI toolbox</a> (version 25 June 2018)</li>
<li><a class="reference external" href="https://people.eecs.berkeley.edu/%7Echunlei.liu/software.html">STI Suite</a> (version 3.0)</li>
<li><a class="reference external" href="https://gitlab.com/cmilovic/FANSI-toolbox">FANSI toolbox</a> (commit d33759b9)</li>
</ul>
<p>If you encounter any difficulty when downloading these toolboxes please let me know.</p>
</div>
<div class="section" id="installing-sepia">
<h2>Installing SEPIA<a class="headerlink" href="#installing-sepia" title="Permalink to this headline">¶</a></h2>
<p>Once you have all the toolboxes in place, then you have to specify the directory of each toolbox in <a class="reference external" href="https://github.com/kschan0214/sepia/blob/master/SpecifyToolboxesDirectory.m">SpecifyToolboxesDirectory.m</a>:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">MEDI_dir</span> <span class="p">=</span> <span class="s">&#39;/path/to/MEDI/toolbox/&#39;</span><span class="p">;</span>
<span class="n">STISuite_dir</span> <span class="p">=</span> <span class="s">&#39;/path/to/STISuite/toolbox/&#39;</span><span class="p">;</span>
<span class="n">FANSI_dir</span> <span class="p">=</span> <span class="s">&#39;/path/to/FASI/toolbox/&#39;</span><span class="p">;</span>
</pre></div>
</div>
<p>For example, I have all my external toolboxes stored under the SEPIA home directory. Additionally, for each toolbox, I have different copies representing different versions when they were published</p>
<img alt="../_images/show_how_to_specify_path.png" src="../_images/show_how_to_specify_path.png" />
<p>and here is an example of how is my SpecifyToolboxesDirectory.m defined:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="c">% 1. sepcify the toolbox version you want to run</span>
<span class="n">MEDI_version</span>        <span class="p">=</span> <span class="s">&#39;MEDI_toolbox_20180625&#39;</span><span class="p">;</span>
<span class="n">FANSI_version</span>       <span class="p">=</span> <span class="s">&#39;FANSI-toolbox-d33759b970790cc8754adc9d0398cc3d07546074/&#39;</span><span class="p">;</span>
<span class="n">STISuite_version</span>    <span class="p">=</span> <span class="s">&#39;STISuite_V3.0&#39;</span><span class="p">;</span>

<span class="c">% 2. get the Sepia HOME directory from this script</span>
<span class="n">fullName</span>        <span class="p">=</span> <span class="n">mfilename</span><span class="p">(</span><span class="s">&#39;fullpath&#39;</span><span class="p">);</span>
<span class="n">SEPIA_HOME</span>      <span class="p">=</span> <span class="n">fileparts</span><span class="p">(</span><span class="n">fullName</span><span class="p">);</span>

<span class="c">% 3. specify the top level of external dependency directory</span>
<span class="n">external_dir</span>    <span class="p">=</span> <span class="p">[</span><span class="n">SEPIA_HOME</span> <span class="n">filesep</span> <span class="s">&#39;external&#39;</span> <span class="n">filesep</span><span class="p">];</span>

<span class="c">% 4. specify the HOME directory of each toolbox</span>
<span class="n">MEDI_HOME</span>       <span class="p">=</span> <span class="p">[</span><span class="n">external_dir</span> <span class="s">&#39;MEDI_toolbox&#39;</span> <span class="n">filesep</span><span class="p">];</span>
<span class="n">FANSI_HOME</span>      <span class="p">=</span> <span class="p">[</span><span class="n">external_dir</span> <span class="s">&#39;FANSI_toolbox&#39;</span> <span class="n">filesep</span><span class="p">];</span>
<span class="n">STISuite_HOME</span>   <span class="p">=</span> <span class="p">[</span><span class="n">external_dir</span> <span class="s">&#39;STI_Suite&#39;</span> <span class="n">filesep</span><span class="p">];</span>

<span class="c">% 5. sepcify the final destination of each toolbox you want to run in Sepia</span>
<span class="n">MEDI_dir</span>        <span class="p">=</span> <span class="p">[</span><span class="n">MEDI_HOME</span> <span class="n">MEDI_version</span> <span class="n">filesep</span><span class="p">];</span>
<span class="n">FANSI_dir</span>       <span class="p">=</span> <span class="p">[</span><span class="n">FANSI_HOME</span> <span class="n">FANSI_version</span> <span class="n">filesep</span><span class="p">];</span>
<span class="n">STISuite_dir</span>    <span class="p">=</span> <span class="p">[</span><span class="n">STISuite_HOME</span> <span class="n">STISuite_version</span> <span class="n">filesep</span><span class="p">];</span>
</pre></div>
</div>
<p><strong>IMPORTANT: Please do not modify the original structure of these toolboxes, SEPIA searches the path of the related functions based on the original folder structure.</strong></p>
<p>Finally, you have to add the directory containing <a class="reference external" href="https://github.com/kschan0214/sepia/blob/master/sepia.m">sepia.m</a>, i.e. the SEPIA HOME directory, to your MATLAB PATH</p>
<p>This can be done by:
‘Set Path’ -&gt; ‘Add Folder’ -&gt; /your/sepia/directory/ -&gt; ‘Save’</p>
<p>(<strong>Caution</strong>: To ensure only the selected algorithm is used for the QSM processing, please do not manually add the paths to the external toolboxes you want to run in SEPIA to the Matlab PATH, the <cite>sepia_addpath</cite> function will do the job for you:).)</p>
<p>or</p>
<p>with MATLAB’s command: <code class="docutils literal notranslate"><span class="pre">addpath('/your/sepia/directory')</span></code></p>
<p>Now you can start the GUI by entering <code class="docutils literal notranslate"><span class="pre">sepia</span></code> in the MATLAB’s command window.</p>
</div>
<div class="section" id="compatibility">
<h2>Compatibility<a class="headerlink" href="#compatibility" title="Permalink to this headline">¶</a></h2>
<p>SEPIA is developed mainly in MATLAB R2016b in Linux. In general, all methods should compatible with earlier MATLAB versions. Most of the methods should also compatible with MATLAB R2017a or later, and other OS, except the following functions/algorithms</p>
<ul class="simple">
<li>DICOM reader</li>
<li>Laplacian Boundary Value (LBV) for background field removal</li>
<li>Graphcut for phase unwrapping</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Installation</a><ul>
<li><a class="reference internal" href="#prerequisite">Prerequisite</a></li>
<li><a class="reference internal" href="#installing-sepia">Installing SEPIA</a></li>
<li><a class="reference internal" href="#compatibility">Compatibility</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../index.html"
                        title="previous chapter">SEPIA Documentation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="Data-preparation.html"
                        title="next chapter">Data Preparation</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/getting_started/Installation.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="Data-preparation.html" title="Data Preparation"
             >next</a> |</li>
        <li class="right" >
          <a href="../index.html" title="SEPIA Documentation"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">SEPIA 0.7 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2019, Kwok-Shing Chan.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.4.
    </div>
  </body>
</html>